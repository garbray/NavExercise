!function(a){"use strict";var b,c,d=d||{};b=function(a){return document.querySelector(a)},c=function(a){return document.querySelectorAll(a)},d.getMenuData=function(){function a(a){var c,d=JSON.parse(a.currentTarget.response),e=["nav","nav-item","item"],f=document.getElementById("navigation");c=b.createMenu(d,e),f.appendChild(c),b.addEvents()}var b=this,c=new XMLHttpRequest;return c.open("get","/api/nav.json",!0),c.send(),c.addEventListener("load",a,!1),!0},d.createMenu=function(a,b){for(var c=this,d=a.items,e=d.length,f=c.createElement("ul",b[0]),g=0;e>g;g++){var h,i,j=c.createElement("li",b[1]),k=c.createElement("a",b[2]);k.setAttribute("href",d[g].url),k.textContent=d[g].label,j.appendChild(k),d[g].items&&d[g].items.length>0&&(h=c.createElement("span","arrow"),k.classList.add("open-submenu"),k.appendChild(h),i=c.createMenu(d[g],["sub-menu","sub-menu-item","sub-item"]),j.appendChild(i)),f.appendChild(j)}return f},d.createElement=function(a,b){var c=document.createElement(a);return c.setAttribute("class",b),c},d.toggleClass=function(a,b){return a.classList.toggle(b),a},d.toggleList=function(a,b){for(var c=this,d=a.length,e=0;d>e;e++)c.toggleClass(a[e],b)},d.addEvents=function(){var a,d=this,e=b("#menu"),f=b("#header"),g=b("#mask"),h=b("#logo"),i=c(".open-submenu"),j=i.length;e.addEventListener("click",function(){d.toggleList([e,f,g,h],"open")}),g.addEventListener("click",function(){a&&(a.classList.contains("open")?a.classList.toggle("open"):a.parentElement.classList.toggle("open"),a=void 0),e.classList.contains("open")?e.click():g.classList.toggle("open")});for(var k=function(b){return b.currentTarget.parentElement.classList.toggle("open"),g.classList.contains("open")||g.classList.toggle("open"),a&&a!==b.currentTarget?(a.parentElement.classList.toggle("open"),a=b.currentTarget):a&&a===b.currentTarget?(g.classList.toggle("open"),a=void 0):a=b.currentTarget,!1},l=0;j>l;l++)i[l].addEventListener("click",k);return!0},d.init=function(){var a=this;return a.getMenuData(),!0},a.app=d,d.init()}(window);